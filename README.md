# Logview mode

Logview major mode for Emacs provides syntax highlighting, filtering
and other features for various log files.  The main target are files
similar to ones generated by Log4j, Logback and other Java logging
libraries, but there is really nothing Java-specific in the mode and
it should work just fine with any log that follows similar structure,
probably after some configuration.

The mode is meant to be operated in read-only buffer, so all the
command bindings lack modifiers.

Out-of-the-box the mode should be able to parse standard SLF4J (Log4j,
Logback) files as long as they use ISO 8601 timestamps and certain
UNIX files in `/var/log`.


### Submodes

Since there is no standard log file format, Logview mode has to try
and guess how the log file it operates on is formatted.  It does so by
trying to parse the very first line of the file against various
submodes it has.

If it succeeds in guessing, you will see major mode specifed as
‘Logview/...’ in the modeline, where the second part is the submode
name.

In case it fails, you will see it complain in the echo area.  The
buffer will also not be highlighted or switched to read-only mode, so
you will be able to edit it.

#### What to do if Logview mode fails to guess format

Currently your only option is to customize the mode.  `C-c C-s` will
show you only those options that are relevant to submode guessing.
You will need to customize at least one of those, or maybe all three.
All the variables are well-documented in customization interface.

If you think your log format is standard enough, you can open an issue
and request format addition to the list of mode built-ins.


### Commands

Nearly all commands have some use for prefix argument.  It can be
usually just guessed, but you can always check individual command
documentation within Emacs.

When buffer is switched to read-write mode, Logview automatically
deactivates all its commands so as to not interfere with editing.
Once you switch the buffer back to read-only mode, commands will be
active again.

#### Movement

* All standard Emacs commands
* Move to the beginning of entry’s message: `TAB`
* Move to next / previous entry: `n` / `p`
* Move to next / previous ‘as important’ [*] entry: `N` / `P` 
* Move to first / last entry: `<` / `>`

[*] ‘As important’ means entries with the same or higher level.  For
    example, if the current entry is a warning, ‘as important’ include
    errors and warnings.

#### Narrowing and widening

* Narrow from / up to current entry: `[` / `]`
* Widen: `w`
* Widen upwards / downwards only: `{` / `}`

#### Filtering by entry level

* Show only errors: `l 1` or `l e`
* Show errors and warnings: `l 2` or `l w`
* Show errors, warnings and information: `l 3` or `l i`
* Show all levels except trace: `l 4` or `l d`
* Show entries of all levels: `l 5` or `l t`
* Show entries ‘as important’ as current one: `+` or `l +`

#### Filtering by entry’s logger name or thread

* Add name include / exclude filter: `a` / `A`
* Add thread include / exclude filter: `t` / `T`

#### Resetting filters

* Reset level filter: `r l`
* Reset name filters: `r a`
* Reset thread filters: `r t`
* Reset all filters: `R`
* Reset all filters, widen and show all explicitly hidden entries: `r e`

#### Explicitly hide or show individual entries

* Hide one entry: `h`
* Hide entries in the region: `H`
* Show some explicitly hidden entries: `s`
* Show explicitly hidden entries in the region: `S`

In Transient Mark mode `h` and `s` operate on region when mark is
active.

#### Change options for current buffer

These options can be customized globally and additionally temporarily
changed in each individual buffer.

* Toggle ‘copy only visible text’: `o v`
* Toggle ‘show ellipses’: `o e`

#### Miscellaneous

* Bury buffer: `q`
* Universal prefix commands are bound without modifiers: `u`, `-`, `0`..`9`
